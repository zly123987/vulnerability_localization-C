import csv


def print_gpt():
    with open('../data/xxx data - selected.csv') as f, open('prompt.csv',  'w') as fw:
        writer = csv.writer(fw, quoting=csv.QUOTE_ALL)
        for line in csv.reader(f):
            if line[0]=='cve':
                continue
            if line[2]=='':
                continue
            if line[14]!= '':
                continue
            print(line[0], '\n')
            print(f"""
                Can you categorize the following vulnerability description into these parts: affected library, affected version range, how to exploit the vulnerability, the functionality keywords involved during exploiting, and the remark. Try to use only the original words without new words. 
                ```
                {line[2]}
                ``` 
                Please state clearly which parts they belong to. Also, please make it a table like output with only one row instead of a column
                """)
            
            print('\n\n')
            print('='*10)
            print('\n\n')
            writer.writerow([f"""
                Can you categorize the following vulnerability description into these parts: affected library, affected version range, how to exploit the vulnerability, the functionality keywords involved during exploiting, and the remark. Try to use only the original words without new words. 
                ```
                {line[2]}
                ``` 
                Please state clearly which parts they belong to. Also, please make it a table like output with only one row instead of a column
                """])
print_gpt()